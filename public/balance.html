<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Assets â€” Demo Account</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css">
  <style>
    :root{
      --bg:#0d0f12;
      --card:#14171c;
      --muted:#9aa4b2;
      --text:#e9eef5;
      --accent:#f5a623; /* bybit-like yellow */
      --success:#2ecc71;
      --danger:#ff5a5f;
      --divider:#1f232b;
    }
    body{ color:var(--text); -webkit-font-smoothing:antialiased; }
    .topbar{ position:sticky; top:0; z-index:10; background:var(--bg); }
    .badge-demo{ background:#2a2f39; color:#d1d5db; border:1px solid #3a404c; font-weight:600; }
    .btn-live{ background:#22262e; color:#fff; border:1px solid #303746; }
    .equity-card{ background:var(--card); border:none; border-radius:14px; }
    .pill-change{ background:#1d221a; color:#77d36e; border:1px solid #2a3b26; font-size:.75rem; padding:.25rem .5rem; border-radius:8px; }
    .pill-change.down{ background:#2b1d1d; color:#ff8a8f; border-color:#3e2a2a; }
    .tile{ background:var(--card); border-radius:14px; padding:16px; display:flex; align-items:center; gap:12px; border:1px solid #1b2028; }
    .tile i{ font-size:1.25rem; color:var(--accent); }
    .section-title{ font-weight:700; }
    .toolbar{ border-bottom:1px solid var(--divider); }
    .searchbox{ display:none; }
    .asset{ border-bottom:1px solid var(--divider); padding:14px 0; display:flex; align-items:center; justify-content:space-between; }
    .asset:last-child{ border-bottom:none; }
    .coin-left{ display:flex; align-items:center; gap:12px; }
    .coin-logo{ width:34px; height:34px; border-radius:50%; display:grid; place-items:center; font-size:1.05rem; }
    .coin-meta small{ color:var(--muted); display:block; margin-top:2px; }
    .amt{ text-align:right; }
    .amt .usd{ color:var(--muted); font-size:.9rem; }
    .neg{ color:var(--danger); }
    .pos{ color:var(--success); }
    .bottom-nav{ position:sticky; bottom:0; background:var(--bg); border-top:1px solid var(--divider); }
    .bottom-nav .nav-link{ color:#b5bdc9; }
    .bottom-nav .active{ color:#fff; }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg px-5 navbar-dark py-3">
    <a class="navbar-brand" href="./index.html">
    <img src="images/logo.png" alt="QFS Logo" width="80">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
    <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav gap-3 text-white">
            <li class="nav-item"><a class="nav-link text-white" href="./index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="./index.html#about">About</a></li>
            <li class="nav-item"><a class="nav-link primary-text" href="./balance.html">Overview</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="./crypto.html">Link Wallet</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="./transact.html">Transact</a></li>
            <li class="nav-item"><a class="nav-link text-white" href="./crypto.html">FAQs</a></li>
        </ul>
    </div>
  </nav>


  <div class="container py-2">

    <!-- Equity card -->
    <div class="wallet-container p-4">
        <div class="d-flex justify-content-between align-items-center">
            <div class="text-white-50 fw-semibold fs-6">Total Balance <i id="toggleBalance" class="bi bi-eye ms-2 fs-5" style="cursor: pointer;"></i></div>
          </div>
          <div class="d-flex align-items-end gap-2 mt-2">
            <div id="equityUSD" class="display-6 fw-bold">$0.00</div>
            <div class="text-secondary mb-2">USD</div>
          </div>
          <p class="not-verified">Not Verified</p>
    </div>

    <!-- Action tiles -->
    <div class="row g-4 my-5">
      <a href="./transact.html" class="col-md-6 col-12 text-decoration-none">
        <div class="coin-card text-white text-center py-4">
          <h3 class="bi bi-cash-coin primary-text mb-3"></h3>
          <div>
            <h5 class="fw-semibold mb-1">Fund Account</h5>
            <small class="text-secondary">Click to deposit/withdraw</small>
          </div>
        </div>
      </a>

        <a href="crypto.html" class="col-md-6 col-12 text-decoration-none">
            <div class="coin-card text-white text-center py-4">
                <h3 class="bi bi-wallet2 primary-text mb-3"></h3>
                <div>
                <h5 class="fw-semibold mb-1">Link Wallet</h5>
                <small class="text-secondary">Click to link your wallet</small>
                </div>
            </div>
            </a>
    </div>

    <!-- Crypto section header -->
    <div class="row align-items-center justify-content-between toolbar pb-2">
      <div class="d-flex justify-content-start col-md-3">
        <h4 class="section-title mt-5">View Balance</h4>
      </div>
      <div class="d-flex align-items-center justify-content-end col-5 col-lg-8">
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="hideZeroSwitch">
          <label class="form-check-label text-secondary" for="hideZeroSwitch">Hide zero balances</label>
        </div>
        
      </div>
    </div>


    <!-- Asset list -->
    <div id="assetList" class="mt-2 mb-5"></div>
  </div>


  <script>
    // --- Mock data (edit freely) ------------------------------------------
    // priceUSD: per coin price; amount: user balance
    const assets = [
      { symbol: 'Bitcoin',      name: 'BTC',     icon: './images/bitcoin.svg',              amount: 0,  priceUSD: 0 },
      { symbol: 'Ethereum',     name: 'ETH',     icon: './images/Ethereum.svg',             amount: 0,  priceUSD: 0 },
      { symbol: 'XRP',          name: 'Ripple',  icon: './images/xrp-xrp-logo.png',         amount: 0,  priceUSD: 0 },
      { symbol: 'Litecoin',     name: 'LTC',     icon: './images/Litecoin.svg',             amount: 0,  priceUSD: 0 },
      { symbol: 'Stellar',      name: 'XLM',     icon: './images/xlm.png',                  amount: 0,  priceUSD: 0 },
      { symbol: 'Doge Coin',    name: 'DOGE',    icon: './images/dogecoin-doge-logo.png',   amount: 0,  priceUSD: 0 },
      { symbol: 'Algorand',     name: 'ALGO',    icon: './images/algo.png',                 amount: 0,  priceUSD: 0 },
      { symbol: 'Solana',       name: 'SOL',     icon: './images/Solana.svg',               amount: 0,  priceUSD: 0 },
      { symbol: 'Cardano',      name: 'ADA',     icon: './images/cardano-ada-logo.png',     amount: 0,  priceUSD: 0 },
      { symbol: 'Tron',         name: 'USDT',    icon: './images/tether-usdt-logo.png',     amount: 0,  priceUSD: 0 },
      { symbol: 'Binance USD',  name: 'BUSD',    icon: './images/busd.png',                 amount: 0,  priceUSD: 0 },
      { symbol: 'Shiba Inu',    name: 'SHIB ',   icon: './images/shiba-inu-shib-logo.png',  amount: 0,  priceUSD: 0 },
      { symbol: 'PEPU',         name: 'PEPU',    icon: './images/pepu.png',                 amount: 0,  priceUSD: 0 },
    ];
    // Use BTC price from above dataset to compute BTC equivalent:
    const BTC_PRICE = assets.find(a => a.symbol==='BTC')?.priceUSD ?? 112000;

    // --- Helpers -----------------------------------------------------------
    const fmtUSD = n => (n<0?'-':'') + '$' + Math.abs(n).toLocaleString(undefined,{minimumFractionDigits:2, maximumFractionDigits:2});
    const fmtAmt = n => n.toLocaleString(undefined,{minimumFractionDigits:0, maximumFractionDigits:8});
    const qs = s => document.querySelector(s);

    // --- Render ------------------------------------------------------------
    const state = {
      hideZero: JSON.parse(localStorage.getItem('hideZero') ?? 'true'),
      term: ''
    };

    // Total Calculate
    function computeTotals(list){
      const equityUSD = list.reduce((sum,a)=> sum + (a.amount * a.priceUSD), 0);
      const btcEq = equityUSD / BTC_PRICE;
      return { equityUSD, btcEq };
    }

    function render(){
      // Hide Zero balances
      qs('#hideZeroSwitch').checked = state.hideZero;

      // Filtered list
      let list = [...assets];
      if(state.hideZero) list = list.filter(a => Math.abs(a.amount) > 0);
      

      // Totals
      const { equityUSD, btcEq } = computeTotals(list);
      qs('#equityUSD').textContent = fmtUSD(equityUSD) + ' ';
      

      // List
      const container = qs('#assetList');
      container.innerHTML = '';
      list.forEach(a=>{
        const usd = a.amount * a.priceUSD;
        const row = document.createElement('div');
        row.className = 'asset';
        row.innerHTML = `
          <div class="coin-left">
            <img class="coin-logo" src="${a.icon}" />
            <div class="coin-meta">
              <div class="fw-semibold">${a.symbol}</div>
              <small>${a.name}</small>
            </div>
          </div>
          <div class="amt">
            <div class="${a.amount<0 ? 'neg' : ''}">${fmtAmt(a.amount)}</div>
            <div class="usd">${fmtUSD(usd)}</div>
          </div>
        `;
        container.appendChild(row);
      });
    }

    // --- Events ------------------------------------------------------------
    // Hide zero
    const hideSwitch = qs('#hideZeroSwitch');
    hideSwitch.addEventListener('change', e=>{
      state.hideZero = e.target.checked;
      localStorage.setItem('hideZero', JSON.stringify(state.hideZero));
      render();
    });

    // Init
    window.addEventListener('DOMContentLoaded', ()=>{
      // restore persisted setting
      if(state.hideZero === null) state.hideZero = true;
      render();
    });
  </script>

<script>
    const toggleBtn = document.getElementById("toggleBalance");
    const balanceDiv = document.getElementById("equityUSD");
  
    let isVisible = true;  // balance starts as visible
    const actualBalance = balanceDiv.innerText; // store original balance
  
    toggleBtn.addEventListener("click", () => {
      if (isVisible) {
        balanceDiv.innerText = "****"; // hide balance
        toggleBtn.classList.remove("bi-eye");
        toggleBtn.classList.add("bi-eye-slash");
      } else {
        balanceDiv.innerText = actualBalance; // show balance
        toggleBtn.classList.remove("bi-eye-slash");
        toggleBtn.classList.add("bi-eye");
      }
      isVisible = !isVisible;
    });
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
